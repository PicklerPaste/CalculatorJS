<meta charset="UTF-8">
<canvas width="600" height="400"></canvas>

<script>
	
var tela = document.querySelector('canvas');
var pincel = tela.getContext('2d');

var posicaoX = [15, 86.5, 158, 229.5, 301, 372.5, 444, 515.5, 15, 158, 301, 444, 15, 158, 301, 444, 158, 301, 444];
var posicaoXTexto = [21, 88, 174, 255, 325, 398, 463, 536, 75, 218, 361, 504, 75, 217, 361, 504, 217, 361, 504];
var posicaoYTexto = [127, 127, 127, 122, 132, 125, 123, 123, 187, 187, 187, 187, 275, 275, 275, 275, 363, 363, 363];
var texto = ["AC", "<X", "%", "/", "*", "-", "+", "=", "1", "2", "3", "4", "5", "6", "7", "8", "9", "0", ","];
var yAlturaBotao = [85, 85, 85, 85, 85, 85, 85, 85, 137, 137, 137, 137, 222.3, 222.3, 222.3, 222.3, 307.6, 307.6, 307.6];
var yTamanhoAlturaTecla = [50, 50, 50, 50, 50, 50, 50, 50, 83.3, 83.3, 83.3, 83.3, 83.3, 83.3, 83.3, 83.3, 83.3, 83.3, 83.3];
var xTamanhoLarguraTecla = [69.5, 69.5, 69.5, 69.5, 69.5, 69.5, 69.5, 69.5, 141, 141, 141, 141, 141, 141, 141, 141, 141, 141, 141];

var numeroMonitor = 0;
var operação;
var valor1;
var valor2;
var resultado;

function desenhaTecla(cor, posicaoX, yAltura, xTamanhoLargura, yTamanhoAltura, corBorda) {
	pincel.fillStyle = cor;
	pincel.fillRect(posicaoX, yAltura, xTamanhoLargura, yTamanhoAltura);
	pincel.strokeStyle = corBorda;
	pincel.strokeRect(posicaoX, yAltura, xTamanhoLargura, yTamanhoAltura);
}

function escreveTextoTecla(cor, texto, posicaoX, posicaoY) {
	pincel.font='45px Georgia';
    pincel.fillStyle = cor;
    pincel.fillText(texto, posicaoX, posicaoY);
}

function desenhaTodasTeclas() {
	for(var i = 0; i < posicaoX.length; i++) {
		desenhaTecla("black", posicaoX[i], yAlturaBotao[i], xTamanhoLarguraTecla[i], yTamanhoAlturaTecla[i], "white");
		escreveTextoTecla("green", texto[i], posicaoXTexto[i], posicaoYTexto[i]);
	}
}

function desenhaTela() {
	pincel.fillStyle = "black";
	pincel.fillRect(0, 0, 600, 400);
}

function desenhaMonitor() {
	pincel.fillStyle = "white";
	pincel.fillRect(15, 15, 570, 65);
	escreveTextoTecla("green", numeroMonitor, 17, 60);
}

function clica(evento) {
	var x = evento.pageX - tela.offsetLeft;
	var y = evento.pageY - tela.offsetTop;
	console.log(x, y);

	if(x > 15 && y > 85 && x < 84.5 && y < 135) {
		disparaAC();
	}

	if(x > 86.5 && y > 85 && x < 156 && y < 135) {
		disparaX();
	}

	if(x > 158 && y > 85 && x < 227.5 && y < 135) {
		disparaPercentual();
	}
	if(x > 229.5 && y > 85 && x < 299 && y < 135) {
		operação = "divisão";
		valor1 = numeroMonitor;
		numeroMonitor = 0;
		desenhaMonitor();
	}
	if(x > 301 && y > 85 && x < 370.5 && y < 135) {
		operação = "multiplicação";
		valor1 = numeroMonitor;
		numeroMonitor = 0;
		desenhaMonitor();
	}
	if(x > 372.5 && y > 85 && x < 442 && y < 135) {
		operação = "subtração";
		valor1 = numeroMonitor;
		numeroMonitor = 0;
		desenhaMonitor();
	}
	if(x > 444 && y > 85 && x < 513.5 && y < 135) {
		operação = "adição";
		valor1 = numeroMonitor;
		numeroMonitor = 0;
		desenhaMonitor();
	}
	if(x > 515.5 && y > 85 && x < 585 && y < 135) {
		switch(operação) {
			case "adição": 
				valor2 = numeroMonitor;
				resultado = parseFloat(valor1) + parseFloat(valor2);
				numeroMonitor = resultado;
				desenhaMonitor()
				break;
			case "subtração":
				valor2 = numeroMonitor;
				resultado = parseFloat(valor1) - parseFloat(valor2);
				numeroMonitor = resultado;
				desenhaMonitor()
				break;
			case "multiplicação":
				valor2 = numeroMonitor;
				resultado = parseFloat(valor1) * parseFloat(valor2);
				numeroMonitor = resultado;
				desenhaMonitor()
				break;
			case "divisão":
				valor2 = numeroMonitor;
				resultado = parseFloat(valor1) / parseFloat(valor2);
				numeroMonitor = resultado;
				desenhaMonitor()
				break;	
		}
	}
	if(x > 15 && y > 137 && x < 156 && y < 220.3) {
		numeroUm();
	}
	if(x > 158 && y > 137 && x < 299 && y < 220.3) {
		numeroDois();
	}
	if(x > 301 && y > 137 && x < 442 && y < 220.3) {
		numeroTres();
	}
	if(x > 444 && y > 137 && x < 585 && y < 220.3) {
		numeroQuatro();
	}
	if(x > 15 && y > 222.3 && x < 156 && y < 305.6) {
		numeroCinco();
	}
	if(x > 158 && y > 222.3 && x < 299 && y < 305.6) {
		numeroSeis();
	}
	if(x > 301 && y > 222.3 && x < 442 && y < 305.6) {
		numeroSete();
	}
	if(x > 444 && y > 222.3 && x < 585 && y < 305.6) {
		numeroOito();
	}
	if(x > 158 && y > 307.6 && x < 299 && y < 390.9) {
		numeroNove();
	}
	if(x > 301 && y > 307.6 && x < 442 && y < 390.9) {
		numeroZero();
	}
	if(x > 444 && y > 307.6 && x < 585 && y < 390.9) {
		virgula();
	}
}

function disparaAC() {
	numeroMonitor = 0;
	desenhaMonitor();
}

function disparaX() {
	numeroMonitor = numeroMonitor.toString();
	numeroMonitor = numeroMonitor.substring(0, numeroMonitor.length -1);
	desenhaMonitor();
}

function disparaPercentual() {
	numeroMonitor = numeroMonitor/100;
	desenhaMonitor();
}

function numeroUm() {
	numeroMonitor = numeroMonitor.toString();
	numeroMonitor = numeroMonitor.substring(0) + "1";
	desenhaMonitor();
}

function numeroDois() {
	numeroMonitor = numeroMonitor.toString();
	numeroMonitor = numeroMonitor.substring(0) + "2";
	desenhaMonitor();
}

function numeroTres() {
	numeroMonitor = numeroMonitor.toString();
	numeroMonitor = numeroMonitor.substring(0) + "3";
	desenhaMonitor();
}

function numeroQuatro() {
	numeroMonitor = numeroMonitor.toString();
	numeroMonitor = numeroMonitor.substring(0) + "4";
	desenhaMonitor();
}

function numeroCinco() {
	numeroMonitor = numeroMonitor.toString();
	numeroMonitor = numeroMonitor.substring(0) + "5";
	desenhaMonitor();
}

function numeroSeis() {
	numeroMonitor = numeroMonitor.toString();
	numeroMonitor = numeroMonitor.substring(0) + "6";
	desenhaMonitor();
}

function numeroSete() {
	numeroMonitor = numeroMonitor.toString();
	numeroMonitor = numeroMonitor.substring(0) + "7";
	desenhaMonitor();
}

function numeroOito() {
	numeroMonitor = numeroMonitor.toString();
	numeroMonitor = numeroMonitor.substring(0) + "8";
	desenhaMonitor();
}

function numeroNove() {
	numeroMonitor = numeroMonitor.toString();
	numeroMonitor = numeroMonitor.substring(0) + "9";
	desenhaMonitor();
}

function numeroZero() {
	numeroMonitor = numeroMonitor.toString();
	numeroMonitor = numeroMonitor.substring(0) + "0";
	desenhaMonitor();
}

function virgula() {
	numeroMonitor = numeroMonitor.toString();
	numeroMonitor = numeroMonitor.substring(0) + ".";
	desenhaMonitor();
}

desenhaTela();
desenhaMonitor();
desenhaTodasTeclas();
tela.onclick = clica;

</script>